<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Super Duper Cool Canadian Animal Database</title>
  <style>
    .topnav {
      overflow: hidden;
      background-color: #e9e9e9;
    }

    /* Style the links inside the navigation bar */
    .topnav a {
      float: left;
      display: block;
      color: black;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
    }

    /* Change the color of links on hover */
    .topnav a:hover {
      background-color: #ddd;
      color: black;
    }

    /* Style the "active" element to highlight the current page */
    .topnav a.active {
      background-color: #FF0000;
      color: white;
    }

    /* Style the search box inside the navigation bar */
    .topnav input[type=text] {
      float: right;
      padding: 6px;
      border: none;
      margin-top: 8px;
      margin-right: 16px;
      font-size: 17px;
    }
    
    .topnav .title {
      font-size: 1.5rem;
      justify-content: center;
      align-items: center;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      margin: 0;
      padding: 10px;
    }
    .center {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 50%;
    }

    table {
      border-spacing: 0;
      width: 100%;
      border: 1px solid #ddd;
    }

    th {
      cursor: pointer;
    }

    th, td {
      text-align: left;
      padding: 16px;
    }

    tr:nth-child(even) {
      background-color: #f2f2f2
    }
  </style>
</head>
<body>
<div class="topnav">
  <a class="active" href="../homepage.html">Home</a>
  <a href="AddNewAnimal.html">Add Animal</a>
  <a href="list_ver2.html">List</a>
  <h1 class="title">Super Duper Cool Canadian Animal Database</h1>
  <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names..." title="Search">
</div>

<table id="SDCCAD">
  <thead>
  <tr style="text-align: right;">
    <th onclick="sortTable(0)">Animal</th>
    <th onclick="sortTable(1)">Class</th>
    <th onclick="sortTable(2)">Diet</th>
    <th onclick="sortTable(3)">Province</th>
    <th onclick="sortTable(4)">Endangered Status</th>
    <th onclick="sortTable(5)">Population</th>
    <th onclick="sortTable(6)">Native/Invasive</th>
    <th onclick="sortTable(7)">Habitat</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><a href="AnimalPages/moose.html">Moose</a></td>
    <td>Mammal</td>
    <td>Herbivore</td>
    <td>BC</td>
    <td>LC</td>
    <td>20000</td>
    <td>Native</td>
    <td>Woodlands</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Sea otter.html">Sea otter</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>BC</td>
    <td>EN</td>
    <td>8110</td>
    <td>Native</td>
    <td>Coastal areas</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Eastern gray Squirrel.html">Eastern gray Squirrel</a></td>
    <td>Mammal</td>
    <td>Omnivore</td>
    <td>ON</td>
    <td>LC</td>
    <td>2000000</td>
    <td>Invasive</td>
    <td>Woodlands</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Zebra Mussel.html">Zebra Mussel</a></td>
    <td>Mollusk</td>
    <td>Herbivore</td>
    <td>QC</td>
    <td>LC</td>
    <td>750000000000000</td>
    <td>Invasive</td>
    <td>Freshwater lakes; Rivers</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Beaver.html">Beaver</a></td>
    <td>Mammal</td>
    <td>Herbivore</td>
    <td>ON</td>
    <td>LC</td>
    <td>6000000</td>
    <td>Native</td>
    <td>Freshwater wetlands</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Canada Lynx.html">Canada Lynx</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>AB</td>
    <td>NT</td>
    <td>50000</td>
    <td>Native</td>
    <td>Boreal forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Snowshoe Hare.html">Snowshoe Hare</a></td>
    <td>Mammal</td>
    <td>Herbivore</td>
    <td>MB</td>
    <td>LC</td>
    <td>Abundant</td>
    <td>Native</td>
    <td>Boreal forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Common Loon.html">Common Loon</a></td>
    <td>Bird</td>
    <td>Carnivore</td>
    <td>NB</td>
    <td>LC</td>
    <td>500000</td>
    <td>Native</td>
    <td>Lakes</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Bald Eagle.html">Bald Eagle</a></td>
    <td>Bird</td>
    <td>Carnivore</td>
    <td>NS</td>
    <td>LC</td>
    <td>50000</td>
    <td>Native</td>
    <td>Forests; Coasts</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Grizzly Bear.html">Grizzly Bear</a></td>
    <td>Mammal</td>
    <td>Omnivore</td>
    <td>YT</td>
    <td>TH</td>
    <td>15000</td>
    <td>Native</td>
    <td>Mountains; Forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Wood Bison.html">Wood Bison</a></td>
    <td>Mammal</td>
    <td>Herbivore</td>
    <td>NT</td>
    <td>TH</td>
    <td>9000</td>
    <td>Native</td>
    <td>Plains; Forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Pine Marten.html">Pine Marten</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>SK</td>
    <td>LC</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Pacific Salmon.html">Pacific Salmon</a></td>
    <td>Fish</td>
    <td>Omnivore</td>
    <td>BC</td>
    <td>NT</td>
    <td>Declining</td>
    <td>Native</td>
    <td>Rivers; Oceans</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Atlantic Cod.html">Atlantic Cod</a></td>
    <td>Fish</td>
    <td>Carnivore</td>
    <td>NL</td>
    <td>EN</td>
    <td>Declining</td>
    <td>Native</td>
    <td>Ocean</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Great Horned Owl.html">Great Horned Owl</a></td>
    <td>Bird</td>
    <td>Carnivore</td>
    <td>PE</td>
    <td>LC</td>
    <td>Abundant</td>
    <td>Native</td>
    <td>Forests; Plains</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Beluga Whale.html">Beluga Whale</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>QC</td>
    <td>TH</td>
    <td>150000</td>
    <td>Native</td>
    <td>Arctic waters</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Arctic Fox.html">Arctic Fox</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>NU</td>
    <td>LC</td>
    <td>Abundant</td>
    <td>Native</td>
    <td>Tundra</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Caribou.html">Caribou</a></td>
    <td>Mammal</td>
    <td>Herbivore</td>
    <td>MB</td>
    <td>EN</td>
    <td>Declining</td>
    <td>Native</td>
    <td>Boreal forests; Tundra</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Black Bear.html">Black Bear</a></td>
    <td>Mammal</td>
    <td>Omnivore</td>
    <td>NB</td>
    <td>LC</td>
    <td>500000</td>
    <td>Native</td>
    <td>Forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Atlantic Puffin.html">Atlantic Puffin</a></td>
    <td>Bird</td>
    <td>Carnivore</td>
    <td>NL</td>
    <td>LC</td>
    <td>500000</td>
    <td>Native</td>
    <td>Coastal cliffs</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/North American River Otter.html">North American River Otter</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>NS</td>
    <td>LC</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Rivers; Lakes</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Wolverine.html">Wolverine</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>AB</td>
    <td>TH</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Boreal forests; Tundra</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Cougar.html">Cougar</a></td>
    <td>Mammal</td>
    <td>Carnivore</td>
    <td>SK</td>
    <td>LC</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Mountains; Forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Prairie Rattlesnake.html">Prairie Rattlesnake</a></td>
    <td>Reptile</td>
    <td>Carnivore</td>
    <td>AB</td>
    <td>LC</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Grasslands</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Red Fox.html">Red Fox</a></td>
    <td>Mammal</td>
    <td>Omnivore</td>
    <td>PE</td>
    <td>LC</td>
    <td>Abundant</td>
    <td>Native</td>
    <td>Forests; Grasslands</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/American Toad.html">American Toad</a></td>
    <td>Amphibian</td>
    <td>Insectivore</td>
    <td>ON</td>
    <td>LC</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Wetlands; Forests</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Spotted Turtle.html">Spotted Turtle</a></td>
    <td>Reptile</td>
    <td>Omnivore</td>
    <td>ON</td>
    <td>EN</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Marshes; Swamps</td>
  </tr>
  <tr>
    <td><a href="AnimalPages/Monarch Butterfly.html">Monarch Butterfly</a></td>
    <td>Insect</td>
    <td>Herbivore</td>
    <td>QC</td>
    <td>EN</td>
    <td>Declining</td>
    <td>Native</td>
    <td>Meadows; Fields</td>
  </tr>
  <tr>
    <td>Barn Owl</td>
    <td>Bird</td>
    <td>Carnivore</td>
    <td>BC</td>
    <td>TH</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Grasslands; Barns</td>
  </tr>
  <tr>
    <td>Northern Leopard Frog</td>
    <td>Amphibian</td>
    <td>Insectivore</td>
    <td>MB</td>
    <td>TH</td>
    <td>Unknown</td>
    <td>Native</td>
    <td>Marshes; Grasslands</td>
  </tr>
  </tbody>
</table>

<script>
  function filterTableByProvince() {
    const urlParams = new URLSearchParams(window.location.search);
    const provinceFilter = urlParams.get('province');
    
    if (provinceFilter) {
      var table, tr, td, i;
      table = document.getElementById("SDCCAD");
      tr = table.getElementsByTagName("tr");

      for (i = 1; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[3];
        if (td) {
          var provinceText = td.textContent || td.innerText;
          if (provinceText.toUpperCase() === provinceFilter.toUpperCase()) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }
  }

  function sortTable(n) {
    var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
    table = document.getElementById("SDCCAD");
    switching = true;
      //Set the sorting direction to ascending:
    dir = "asc"; 
      /*Make a loop that will continue until
      no switching has been done:*/
    while (switching) {
        //start by saying: no switching is done:
      switching = false;
      rows = table.rows;
        /*Loop through all table rows (except the
        first, which contains table headers):*/
      for (i = 1; i < (rows.length - 1); i++) {
          //start by saying there should be no switching:
        shouldSwitch = false;
          /*Get the two elements you want to compare,
          one from current row and one from the next:*/
        x = rows[i].getElementsByTagName("TD")[n];
        y = rows[i + 1].getElementsByTagName("TD")[n];
          /*check if the two rows should switch place,
          based on the direction, asc or desc:*/
        if (dir == "asc") {
          if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
              //if so, mark as a switch and break the loop:
            shouldSwitch= true;
            break;
          }
        } else if (dir == "desc") {
          if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
              //if so, mark as a switch and break the loop:
            shouldSwitch = true;
            break;
          }
        }
      }
      if (shouldSwitch) {
          /*If a switch has been marked, make the switch
          and mark that a switch has been done:*/
        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
        switching = true;
          //Each time a switch is done, increase this count by 1:
        switchcount ++;      
      } else {
          /*If no switching has been done AND the direction is "asc",
          set the direction to "desc" and run the while loop again.*/
        if (switchcount == 0 && dir == "asc") {
          dir = "desc";
          switching = true;
        }
      }
    }
  }
  function myFunction() {
  var input, filter, table, tr, td, i, j, txtValue;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("SDCCAD");
  tr = table.getElementsByTagName("tr");
  const urlParams = new URLSearchParams(window.location.search);
  const provinceFilter = urlParams.get('province');
  
  for (i = 1; i < tr.length; i++) {
    let rowVisible = false;
    td = tr[i].getElementsByTagName("td");
    if (provinceFilter) {
      const provinceTd = td[3];
      if (provinceTd) {
        var provinceText = provinceTd.textContent || provinceTd.innerText;
        if (provinceText.toUpperCase() !== provinceFilter.toUpperCase()) {
          tr[i].style.display = "none";
          continue;
        }
      }
    }
    for (j = 0; j < td.length; j++) {
      if (td[j]) {
        txtValue = td[j].textContent || td[j].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          rowVisible = true;
          break;
        }
      }
    }
    tr[i].style.display = rowVisible ? "" : "none";
  }
}
  window.onload = filterTableByProvince;
</script>

</body>
</html>